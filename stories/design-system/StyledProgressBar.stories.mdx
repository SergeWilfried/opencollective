import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import StyledProgressBar from '../../components/StyledProgressBar';

<Meta title="Design system/StyledProgressBar" component={StyledProgressBar} />

# States

- Indeterminate

<Canvas>
  <Story name="Indeterminate State">
    {() => {
      return <StyledProgressBar />;
    }}
  </Story>
</Canvas>

- 0%

<Canvas>
  <Story name="Zero Percent">
    {() => {
      return <StyledProgressBar percentage={0} />;
    }}
  </Story>
</Canvas>

- 20%

<Canvas>
  <Story name="Twenty Percent">
    {() => {
      return <StyledProgressBar percentage={0.2} />;
    }}
  </Story>
</Canvas>

- 150% (value is clamped between 0 and 1)

<Canvas>
  <Story name="150 Percent">
    {() => {
      return <StyledProgressBar percentage={1.5} />;
    }}
  </Story>
</Canvas>

# Customize

<Canvas>
  <Story name="Customized">
    {() => {
      return (
        <StyledProgressBar
          percentage={0.75}
          height={20}
          borderRadius={0}
          color="primary.400"
          backgroundColor="red.700"
        />
      );
    }}
  </Story>
</Canvas>

# With text inside

<Canvas>
  <Story name="With Text Inside">
    {() => {
      return (
        <StyledProgressBar percentage={0.75} height={20}>
          75%
        </StyledProgressBar>
      );
    }}
  </Story>
</Canvas>

# Animated

<Canvas>
  <Story name="Animated">
    {() => {
      const [progress, setProgress] = React.useState(0);
      return (
        <div>
          <button
            onClick={() => {
              let tmpProgress = 0;
              setInterval(() => {
                tmpProgress = tmpProgress + 0.07;
                setProgress(tmpProgress);
              }, 500);
            }}
          >
            Start animation
          </button>
          <hr />
          <StyledProgressBar percentage={progress} height={20}>
            {Math.round(progress * 100)}%
          </StyledProgressBar>
        </div>
      );
    }}
  </Story>
</Canvas>
