import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import AutosizeText from '../../components/AutosizeText';
import StyledInput from '../../components/StyledInput';

<Meta
  title="Design system/AutosizeText"
  component={AutosizeText}
  argTypes={{
    value: {
      defaultValue: 'Edit me with strings of different lengths!',
      control: { type: 'text' },
    },
  }}
/>

# AutosizeText

## Default (just display the text)

This example demonstrates the font-size change for a string of up to 50 characters. It starts reducing the size at 10 characters, progressively going from `30px` to `5px`.

<Story name="Default">
  {({ value }) => {
    return <AutosizeText value={value} minFontSizeInPx={5} maxFontSizeInPx={30} maxLength={50} lengthThreshold={10} />;
  }}
</Story>

<ArgsTable story="Default" component={AutosizeText} />

## With an input

<Canvas>
  <Story name="Wrapping an input">
    {({ value }) => {
      const [text, setText] = React.useState(value);
      return (
        <AutosizeText value={text} minFontSizeInPx={12} maxFontSizeInPx={30} maxLength={30} lengthThreshold={8}>
          {({ fontSize }) => (
            <StyledInput
              value={text}
              border="0"
              minHeight={63}
              width="100%"
              fontSize={`${fontSize}px`}
              onChange={e => setText(e.target.value)}
              maxLength={50}
            />
          )}
        </AutosizeText>
      );
    }}
  </Story>
</Canvas>
