import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import CreateProfile from '../../components/CreateProfile';

<Meta title="Design system/CreateProfile" component={CreateProfile} />

<Canvas>
  <Story name="Default">
    {() => {
      const [action, setAction] = React.useState(null);
      const [email, setEmail] = React.useState('');
      return (
        <div>
          <CreateProfile
            onPersonalSubmit={data => setAction(`Personal Create data: ${JSON.stringify(data)}`)}
            onOrgSubmit={data => setAction(`Org Create data: ${JSON.stringify(data)}`)}
            onSecondaryAction={() => setAction('Secondary action button was clicked!')}
            onEmailChange={setEmail}
            email={email}
          />
          {action && <p>{action}</p>}
        </div>
      );
    }}
  </Story>
</Canvas>

Displays passed in errors:

<Canvas>
  <Story name="Error Passing">
    {() => {
      const [action, setAction] = React.useState(null);
      const [email, setEmail] = React.useState('');
      return (
        <div>
          <CreateProfile
            onPersonalSubmit={data => setAction(`Personal Create data: ${JSON.stringify(data)}`)}
            onOrgSubmit={data => setAction(`Org Create data: ${JSON.stringify(data)}`)}
            onSecondaryAction={() => setAction('Secondary action button was clicked!')}
            onEmailChange={setEmail}
            email={email}
            errors={{ email: 'email already exists' }}
          />
          {action && <p>{action}</p>}
        </div>
      );
    }}
  </Story>
</Canvas>
