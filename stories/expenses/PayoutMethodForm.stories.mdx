import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import PayoutMethodForm, { validatePayoutMethod } from '../../components/expenses/PayoutMethodForm';
import { Formik } from 'formik';
import { payoutMethodPaypal, payoutMethodOther } from '../mocks/payout-methods';

<Meta title="Expenses/PayoutMethodForm" component={PayoutMethodForm} />

<Canvas>
  <Story name="New payout method (PayPal)">
    {() => {
      return (
        <Formik validate={validatePayoutMethod} initialValues={{ type: 'PAYPAL', data: { email: '' } }}>
          {({ values, setValues, errors }) => (
            <PayoutMethodForm payoutMethod={values} onChange={setValues} errors={errors} />
          )}
        </Formik>
      );
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="New payout method (Other)">
    {() => {
      return (
        <Formik validate={validatePayoutMethod} initialValues={{ type: 'OTHER', data: { content: '' } }}>
          {({ values, setValues, errors }) => (
            <PayoutMethodForm payoutMethod={values} onChange={setValues} errors={errors} />
          )}
        </Formik>
      );
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="Edit Payout method (PayPal)">
    {() => {
      return (
        <Formik validate={validatePayoutMethod} initialValues={payoutMethodPaypal}>
          {({ values, setValues, errors }) => (
            <PayoutMethodForm payoutMethod={values} onChange={setValues} errors={errors} />
          )}
        </Formik>
      );
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="Edit Payout method (Other)">
    {() => {
      return (
        <Formik validate={validatePayoutMethod} initialValues={payoutMethodOther}>
          {({ values, setValues, errors }) => (
            <PayoutMethodForm payoutMethod={values} onChange={setValues} errors={errors} />
          )}
        </Formik>
      );
    }}
  </Story>
</Canvas>
