import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import StepDetails from '../../components/contribution-flow/StepDetails';
import { webpackCollective } from '../mocks/collectives';
import { flexibleIntervalTier, recurringIntervalTier } from '../mocks/tiers';

<Meta title="Contribution Flow/StepDetails" component={StepDetails} />

<Canvas>
  <Story name="Flexible Interval">
    {() => {
      const [state, setState] = React.useState(null);
      return (
        <div>
          <StepDetails collective={webpackCollective} tier={flexibleIntervalTier} onChange={setState} />
          <br />
          <hr />
          <div style={{ margin: 24, maxWidth: 300 }}>
            <strong>State</strong>
            <pre style={{ whiteSpace: 'pre-wrap' }}>{JSON.stringify(state, null, 2)}</pre>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="One time Interval">
    {() => {
      const [state, setState] = React.useState(null);
      return (
        <div>
          <StepDetails collective={webpackCollective} tier={recurringIntervalTier} onChange={setState} />
          <br />
          <hr />
          <div style={{ margin: 24, maxWidth: 300 }}>
            <strong>State</strong>
            <pre style={{ whiteSpace: 'pre-wrap' }}>{JSON.stringify(state, null, 2)}</pre>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>
